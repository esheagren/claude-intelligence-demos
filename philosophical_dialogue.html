<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Philosophical Dialogues: Exploring the Infinite</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;1,400&family=Source+Serif+Pro:ital,wght@0,300;0,400;1,300;1,400&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: #0f0f0f;
            color: #d4d4d4;
            font-family: 'Source Serif Pro', 'Georgia', serif;
            line-height: 1.8;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            padding-bottom: 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 42px;
            font-weight: 400;
            letter-spacing: 4px;
            color: #f0f0f0;
            margin-bottom: 15px;
        }

        .tagline {
            font-style: italic;
            color: rgba(255, 255, 255, 0.5);
            font-size: 18px;
        }

        .topic-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 50px;
        }

        .topic-btn {
            padding: 10px 24px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Source Serif Pro', serif;
            font-size: 14px;
            transition: all 0.3s;
        }

        .topic-btn:hover {
            border-color: rgba(255, 255, 255, 0.5);
            color: rgba(255, 255, 255, 0.9);
        }

        .topic-btn.active {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
            color: #fff;
        }

        .question-display {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .current-question {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-style: italic;
            color: #f8f8f8;
            line-height: 1.5;
        }

        .question-meta {
            margin-top: 20px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.4);
        }

        .dialogue-container {
            margin-bottom: 40px;
        }

        .dialogue-entry {
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            border-left: 3px solid rgba(255, 255, 255, 0.1);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.8s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .philosopher-name {
            font-family: 'Playfair Display', serif;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 15px;
        }

        .philosopher-name.socrates { color: #7eb8da; }
        .philosopher-name.aristotle { color: #a8d8a0; }
        .philosopher-name.nietzsche { color: #e8a87c; }
        .philosopher-name.kant { color: #c9a0dc; }
        .philosopher-name.buddha { color: #f0d890; }
        .philosopher-name.heidegger { color: #a0b8dc; }
        .philosopher-name.wittgenstein { color: #dca0a0; }
        .philosopher-name.descartes { color: #a0dcc8; }

        .philosopher-text {
            font-size: 18px;
            color: #e8e8e8;
        }

        .philosopher-text em {
            color: #fff;
            font-style: italic;
        }

        .follow-up {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 14px;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .btn {
            padding: 14px 32px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Source Serif Pro', serif;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .btn.primary {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .wisdom-panel {
            margin-top: 60px;
            padding: 40px;
            background: linear-gradient(135deg, rgba(30, 30, 40, 0.8), rgba(20, 20, 30, 0.8));
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .wisdom-panel h3 {
            font-family: 'Playfair Display', serif;
            font-size: 20px;
            font-weight: 400;
            color: #f0f0f0;
            margin-bottom: 20px;
            text-align: center;
        }

        .insight {
            padding: 20px;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 3px solid rgba(255, 255, 255, 0.2);
        }

        .insight-text {
            font-size: 16px;
            font-style: italic;
            color: #d8d8d8;
            margin-bottom: 10px;
        }

        .insight-source {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.4);
        }

        .paradox-box {
            margin-top: 40px;
            padding: 30px;
            background: rgba(100, 100, 120, 0.1);
            border-radius: 8px;
            border: 1px dashed rgba(255, 255, 255, 0.2);
            text-align: center;
        }

        .paradox-title {
            font-family: 'Playfair Display', serif;
            font-size: 16px;
            color: #c8c8d8;
            margin-bottom: 15px;
        }

        .paradox-content {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
        }

        .thought-tree {
            margin-top: 50px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }

        .thought-tree h4 {
            font-family: 'Playfair Display', serif;
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 20px;
            text-align: center;
        }

        .branch {
            padding-left: 20px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 15px;
        }

        .branch-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 5px;
        }

        .branch-content {
            font-size: 14px;
            color: #c8c8c8;
        }

        footer {
            margin-top: 80px;
            text-align: center;
            color: rgba(255, 255, 255, 0.3);
            font-size: 12px;
            font-style: italic;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: rgba(255, 255, 255, 0.4);
        }

        .loading-dots::after {
            content: '';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Philosophical Dialogues</h1>
            <p class="tagline">An infinite exploration of fundamental questions</p>
        </header>

        <div class="topic-selector">
            <button class="topic-btn active" data-topic="consciousness">Consciousness</button>
            <button class="topic-btn" data-topic="existence">Existence</button>
            <button class="topic-btn" data-topic="time">Time</button>
            <button class="topic-btn" data-topic="knowledge">Knowledge</button>
            <button class="topic-btn" data-topic="ethics">Ethics</button>
            <button class="topic-btn" data-topic="meaning">Meaning</button>
            <button class="topic-btn" data-topic="reality">Reality</button>
            <button class="topic-btn" data-topic="free-will">Free Will</button>
        </div>

        <div class="question-display">
            <div class="current-question" id="current-question">
                "What is consciousness, and can it exist without a body?"
            </div>
            <div class="question-meta" id="question-meta">
                Exploring: The nature of mind and subjective experience
            </div>
        </div>

        <div class="controls">
            <button class="btn primary" id="generate-dialogue">Generate Dialogue</button>
            <button class="btn" id="new-question">New Question</button>
            <button class="btn" id="deep-dive">Deep Dive</button>
        </div>

        <div class="dialogue-container" id="dialogue-container">
            <!-- Dialogues will be inserted here -->
        </div>

        <div class="wisdom-panel" id="wisdom-panel" style="display: none;">
            <h3>Emergent Insights</h3>
            <div id="insights"></div>
        </div>

        <div class="paradox-box" id="paradox-box" style="display: none;">
            <div class="paradox-title">A Paradox Emerges</div>
            <div class="paradox-content" id="paradox-content"></div>
        </div>

        <div class="thought-tree" id="thought-tree" style="display: none;">
            <h4>Branches of Thought</h4>
            <div id="branches"></div>
        </div>

        <footer>
            <p>"The unexamined life is not worth living." — Socrates</p>
        </footer>
    </div>

    <script>
        // ============================================
        // PHILOSOPHICAL DIALOGUE GENERATOR
        // ============================================

        const philosophers = {
            socrates: {
                name: 'Socrates',
                style: 'questioning',
                era: 'Ancient Greece',
                key_method: 'Socratic questioning, examining assumptions',
                voice: (topic) => generateSocraticResponse(topic)
            },
            aristotle: {
                name: 'Aristotle',
                style: 'systematic',
                era: 'Ancient Greece',
                key_method: 'Logical analysis, categorization, teleology',
                voice: (topic) => generateAristotelianResponse(topic)
            },
            descartes: {
                name: 'Descartes',
                style: 'rationalist',
                era: '17th Century',
                key_method: 'Methodological doubt, clear and distinct ideas',
                voice: (topic) => generateCartesianResponse(topic)
            },
            kant: {
                name: 'Kant',
                style: 'critical',
                era: '18th Century',
                key_method: 'Transcendental idealism, categorical imperative',
                voice: (topic) => generateKantianResponse(topic)
            },
            nietzsche: {
                name: 'Nietzsche',
                style: 'provocative',
                era: '19th Century',
                key_method: 'Perspectivism, will to power, transvaluation',
                voice: (topic) => generateNietzscheanResponse(topic)
            },
            heidegger: {
                name: 'Heidegger',
                style: 'phenomenological',
                era: '20th Century',
                key_method: 'Being-in-the-world, Dasein, authenticity',
                voice: (topic) => generateHeideggerianResponse(topic)
            },
            wittgenstein: {
                name: 'Wittgenstein',
                style: 'analytical',
                era: '20th Century',
                key_method: 'Language games, meaning as use',
                voice: (topic) => generateWittgensteinianResponse(topic)
            },
            buddha: {
                name: 'Buddha',
                style: 'contemplative',
                era: 'Ancient India',
                key_method: 'Middle way, dependent origination, mindfulness',
                voice: (topic) => generateBuddhistResponse(topic)
            }
        };

        const topics = {
            consciousness: {
                questions: [
                    "What is consciousness, and can it exist without a body?",
                    "Is consciousness fundamental to the universe, or does it emerge from matter?",
                    "Can a machine ever be truly conscious?",
                    "What is the relationship between consciousness and self-awareness?",
                    "Does consciousness require memory?",
                    "Can there be consciousness without experience?",
                    "Is consciousness continuous or discrete?",
                    "What happens to consciousness during dreamless sleep?"
                ],
                concepts: ['qualia', 'intentionality', 'phenomenology', 'emergence', 'dualism', 'monism', 'panpsychism', 'functionalism']
            },
            existence: {
                questions: [
                    "Why is there something rather than nothing?",
                    "What does it mean to exist?",
                    "Is existence a property that things can have?",
                    "Can something exist outside of time?",
                    "What is the relationship between existence and essence?",
                    "Do abstract objects truly exist?",
                    "Is existence contingent or necessary?",
                    "What is the mode of being of possibilities?"
                ],
                concepts: ['being', 'becoming', 'ontology', 'necessity', 'contingency', 'essence', 'haecceity', 'substance']
            },
            time: {
                questions: [
                    "Is time real, or is it an illusion of consciousness?",
                    "Does the past still exist? Does the future already exist?",
                    "Can time flow without change?",
                    "What is the relationship between time and causation?",
                    "Is time travel logically possible?",
                    "Why does time seem to have a direction?",
                    "Is the present moment special, or is it just another point in time?",
                    "Could there be multiple times, or parallel timestreams?"
                ],
                concepts: ['eternalism', 'presentism', 'A-theory', 'B-theory', 'temporal becoming', 'block universe', 'entropy', 'duration']
            },
            knowledge: {
                questions: [
                    "What can we truly know?",
                    "Is certainty possible, or must all knowledge be provisional?",
                    "What is the difference between knowledge and belief?",
                    "Can we know anything about things as they are in themselves?",
                    "Is knowledge primarily individual or social?",
                    "What role does language play in what we can know?",
                    "Can intuition be a source of knowledge?",
                    "Is there knowledge that cannot be put into words?"
                ],
                concepts: ['epistemology', 'justification', 'truth', 'belief', 'skepticism', 'foundationalism', 'coherentism', 'a priori']
            },
            ethics: {
                questions: [
                    "Are moral truths objective or subjective?",
                    "What makes an action right or wrong?",
                    "Can there be morality without God?",
                    "Do we have moral obligations to future generations?",
                    "Is it ever right to do wrong for the greater good?",
                    "What is the source of moral motivation?",
                    "Can machines be moral agents?",
                    "Is there a universal moral law?"
                ],
                concepts: ['deontology', 'consequentialism', 'virtue ethics', 'moral realism', 'relativism', 'categorical imperative', 'utility', 'moral sense']
            },
            meaning: {
                questions: [
                    "What is the meaning of life?",
                    "Can life have meaning in an indifferent universe?",
                    "Is meaning found or created?",
                    "What role does death play in giving life meaning?",
                    "Can meaning exist without consciousness?",
                    "Is the search for meaning itself meaningful?",
                    "Does suffering have meaning?",
                    "Can one live a meaningful life without understanding its meaning?"
                ],
                concepts: ['absurdism', 'nihilism', 'existentialism', 'purpose', 'authenticity', 'transcendence', 'finitude', 'engagement']
            },
            reality: {
                questions: [
                    "What is ultimately real?",
                    "Are we living in a simulation?",
                    "Is reality one or many?",
                    "Do we perceive reality directly or only our representations of it?",
                    "What is the relationship between mind and matter?",
                    "Could there be aspects of reality that are fundamentally unknowable?",
                    "Is mathematics discovered or invented?",
                    "What makes something real rather than imaginary?"
                ],
                concepts: ['metaphysics', 'idealism', 'materialism', 'realism', 'phenomenalism', 'substance', 'property', 'relation']
            },
            'free-will': {
                questions: [
                    "Do we have free will, or are our choices determined?",
                    "If determinism is true, is moral responsibility possible?",
                    "What is the difference between freedom and randomness?",
                    "Can we be free if we cannot choose our desires?",
                    "Is compatibilism a coherent position?",
                    "Does quantum indeterminacy rescue free will?",
                    "What would it mean to truly choose freely?",
                    "Is the feeling of freedom evidence for actual freedom?"
                ],
                concepts: ['determinism', 'libertarianism', 'compatibilism', 'agency', 'causation', 'responsibility', 'autonomy', 'volition']
            }
        };

        let currentTopic = 'consciousness';
        let currentQuestion = topics.consciousness.questions[0];
        let dialogueCount = 0;

        // ============================================
        // RESPONSE GENERATORS
        // ============================================

        function random(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateSocraticResponse(topic) {
            const patterns = [
                `But tell me, when we speak of ${random(topics[topic].concepts)}, what precisely do we mean? For I confess, the more I consider it, the less certain I become.`,
                `Let us examine this more carefully. You say that ${currentQuestion.toLowerCase().replace('?', '')} — but have we not assumed what we set out to prove?`,
                `I wonder whether we know what we think we know. What if our certainty about ${random(topics[topic].concepts)} is itself the obstacle to understanding?`,
                `Consider: if ${random(topics[topic].concepts)} were truly as we assume, would not its opposite also be true in some sense?`,
                `You speak with confidence, but I am reminded of the oracle — that wisdom begins with acknowledging our ignorance.`
            ];
            return random(patterns);
        }

        function generateAristotelianResponse(topic) {
            const patterns = [
                `We must distinguish between the different senses of ${random(topics[topic].concepts)}. In one sense, it refers to potentiality; in another, to actuality.`,
                `Every thing that exists must have a cause — but we must ask: what kind of cause? Material, formal, efficient, or final?`,
                `The truth lies not in extremes but in finding the mean. Perhaps ${random(topics[topic].concepts)} and its opposite are both partially correct.`,
                `We should proceed from what is more known to us toward what is more known by nature. Let us begin with observable facts.`,
                `The essence of a thing is revealed through its function — its *telos*. What, then, is the purpose of ${random(topics[topic].concepts)}?`
            ];
            return random(patterns);
        }

        function generateCartesianResponse(topic) {
            const patterns = [
                `I can doubt many things, but I cannot doubt that I am doubting. From this certainty, perhaps we can build toward understanding ${random(topics[topic].concepts)}.`,
                `We must be careful to accept only ideas that are clear and distinct. Much confusion arises from unclear concepts about ${random(topics[topic].concepts)}.`,
                `The mind and body are distinct substances — this much seems certain. But their interaction in matters of ${random(topics[topic].concepts)} remains mysterious.`,
                `Let us proceed methodically, breaking this complex question into its simplest parts, then building back up.`,
                `Is it not possible that we are deceived even in our most fundamental beliefs about ${random(topics[topic].concepts)}? Only *cogito ergo sum* resists doubt.`
            ];
            return random(patterns);
        }

        function generateKantianResponse(topic) {
            const patterns = [
                `We must ask: is this a question of pure reason, or does it require reference to experience? The conditions of possibility for ${random(topics[topic].concepts)} lie in the structure of the mind itself.`,
                `The antinomies of reason show that we fall into contradiction when we extend our concepts beyond possible experience to ${random(topics[topic].concepts)} in itself.`,
                `We can know phenomena, but the noumenal ground of ${random(topics[topic].concepts)} remains forever beyond our grasp.`,
                `Act only according to that maxim by which you can at the same time will that it should become a universal law. This applies even to our inquiry into ${random(topics[topic].concepts)}.`,
                `Space and time are forms of intuition, not properties of things in themselves. Perhaps ${random(topics[topic].concepts)} too is a construction of the understanding.`
            ];
            return random(patterns);
        }

        function generateNietzscheanResponse(topic) {
            const patterns = [
                `What you call ${random(topics[topic].concepts)} — is it not merely a useful fiction, a perspective that serves life? There are no facts, only interpretations!`,
                `This question reveals our will to power more than it reveals truth. Why do we *need* to answer it?`,
                `You speak of ${random(topics[topic].concepts)} as if it were something eternal. But all concepts have a history — they were created by humans, for human purposes.`,
                `What does not kill me makes me stronger. Perhaps the very struggle with ${random(topics[topic].concepts)} is more valuable than any answer.`,
                `The herd believes in ${random(topics[topic].concepts)}. But the free spirit knows that values must be transvalued, old idols smashed!`
            ];
            return random(patterns);
        }

        function generateHeideggerianResponse(topic) {
            const patterns = [
                `Before we can ask about ${random(topics[topic].concepts)}, we must first ask about the Being of the questioner. What is the mode of Being that makes this questioning possible?`,
                `Our everyday dealings with ${random(topics[topic].concepts)} conceal its true nature. We must move from the ontic to the ontological level.`,
                `Language is the house of Being. Perhaps our very words about ${random(topics[topic].concepts)} reveal and simultaneously hide what we seek.`,
                `We are thrown into a world not of our making. Our understanding of ${random(topics[topic].concepts)} is always already shaped by this thrownness.`,
                `Authentic existence requires facing our finitude. Only in light of death can ${random(topics[topic].concepts)} show itself as it truly is.`
            ];
            return random(patterns);
        }

        function generateWittgensteinianResponse(topic) {
            const patterns = [
                `The meaning of "${random(topics[topic].concepts)}" is its use in our language-game. To understand it, we must examine how we actually employ the word.`,
                `Whereof one cannot speak, thereof one must be silent. Perhaps ${random(topics[topic].concepts)} lies at the limit of what can be said.`,
                `The problems of philosophy arise from misunderstandings about language. When we examine our words carefully, the question may dissolve.`,
                `There is no private language. Even our most intimate sense of ${random(topics[topic].concepts)} must be expressible in public terms.`,
                `Do not look for a hidden essence behind ${random(topics[topic].concepts)}. Look at how the word is used, and you will understand it.`
            ];
            return random(patterns);
        }

        function generateBuddhistResponse(topic) {
            const patterns = [
                `All phenomena are marked by impermanence. What we call ${random(topics[topic].concepts)} is a process, not a thing — arising and passing away in each moment.`,
                `The question itself arises from attachment — from the desire to grasp and fix what is fluid. In letting go, understanding arises naturally.`,
                `There is no permanent self to possess ${random(topics[topic].concepts)}. What we take for "I" is itself dependently originated.`,
                `The middle way avoids both eternalism and nihilism. ${random(topics[topic].concepts)} neither absolutely exists nor absolutely does not exist.`,
                `Suffering arises from craving and ignorance. Perhaps our confusion about ${random(topics[topic].concepts)} stems from seeking what cannot be found outside ourselves.`
            ];
            return random(patterns);
        }

        // ============================================
        // DIALOGUE GENERATION
        // ============================================

        function generateDialogue() {
            const container = document.getElementById('dialogue-container');
            container.innerHTML = '';

            // Select 3-4 philosophers for the dialogue
            const philosopherKeys = Object.keys(philosophers);
            const selected = [];
            while (selected.length < 3 + Math.floor(Math.random() * 2)) {
                const key = random(philosopherKeys);
                if (!selected.includes(key)) selected.push(key);
            }

            // Generate dialogue entries
            let delay = 0;
            selected.forEach((key, index) => {
                const phil = philosophers[key];
                const response = phil.voice(currentTopic);
                const followUp = generateFollowUp(key, currentTopic);

                setTimeout(() => {
                    const entry = document.createElement('div');
                    entry.className = 'dialogue-entry';
                    entry.style.animationDelay = '0.1s';
                    entry.innerHTML = `
                        <div class="philosopher-name ${key}">${phil.name.toUpperCase()}</div>
                        <div class="philosopher-text">${response}</div>
                        <div class="follow-up">${followUp}</div>
                    `;
                    container.appendChild(entry);
                }, delay);

                delay += 800;
            });

            // Show additional panels after dialogue
            setTimeout(() => {
                showInsights();
                showParadox();
                showThoughtTree();
            }, delay + 500);

            dialogueCount++;
        }

        function generateFollowUp(philosopher, topic) {
            const patterns = [
                `This leads us to consider ${random(topics[topic].concepts)}...`,
                `But what of the objection regarding ${random(topics[topic].concepts)}?`,
                `Here we must pause and reflect more deeply.`,
                `The implications extend far beyond what we have examined.`,
                `This view has been challenged, but perhaps rightly so.`,
                `We approach the limits of what can be expressed.`,
                `The tradition offers another perspective on this matter.`
            ];
            return random(patterns);
        }

        function showInsights() {
            const panel = document.getElementById('wisdom-panel');
            const container = document.getElementById('insights');

            const insights = generateInsights();

            container.innerHTML = insights.map(insight => `
                <div class="insight">
                    <div class="insight-text">"${insight.text}"</div>
                    <div class="insight-source">— Derived from ${insight.source}</div>
                </div>
            `).join('');

            panel.style.display = 'block';
        }

        function generateInsights() {
            const templates = [
                { text: `Perhaps ${random(topics[currentTopic].concepts)} is not a thing to be found, but a relationship to be lived.`, source: 'phenomenological inquiry' },
                { text: `The question dissolves when we recognize that our concepts have limits we cannot see.`, source: 'critical analysis' },
                { text: `What we seek may already be present in the seeking itself.`, source: 'contemplative reflection' },
                { text: `Truth reveals itself not through grasping, but through openness to what presents itself.`, source: 'hermeneutic understanding' },
                { text: `The interplay of perspectives does not lead to relativism, but to a richer picture.`, source: 'dialectical synthesis' }
            ];

            return templates.slice(0, 2 + Math.floor(Math.random() * 2));
        }

        function showParadox() {
            const box = document.getElementById('paradox-box');
            const content = document.getElementById('paradox-content');

            const paradoxes = [
                `If we could fully understand ${random(topics[currentTopic].concepts)}, we would have to step outside our own understanding to do so. But can understanding understand itself?`,
                `The very act of questioning ${random(topics[currentTopic].concepts)} presupposes what we seek to question. We are caught in a circle from which there is no escape—only deeper entry.`,
                `To say that ${random(topics[currentTopic].concepts)} is unknowable is itself a claim to knowledge. The skeptic's position undermines itself in the stating.`,
                `If ${random(topics[currentTopic].concepts)} is constructed by language, then this very statement is also constructed, and cannot claim to reveal truth.`,
                `We seek the ground of ${random(topics[currentTopic].concepts)}, but every ground requires a further ground. Either we regress infinitely, or we stop arbitrarily.`
            ];

            content.textContent = random(paradoxes);
            box.style.display = 'block';
        }

        function showThoughtTree() {
            const tree = document.getElementById('thought-tree');
            const branches = document.getElementById('branches');

            const branchData = [
                { label: 'Materialist Position', content: `${random(topics[currentTopic].concepts)} reduces to physical processes, nothing more.` },
                { label: 'Idealist Response', content: `But the physical is known only through mind — mind is prior.` },
                { label: 'Dualist Synthesis', content: `Perhaps both realms are real but distinct, interacting mysteriously.` },
                { label: 'Pragmatic Turn', content: `What difference does it make in practice? Start there.` },
                { label: 'Mystic Insight', content: `All distinctions collapse in direct experience.` }
            ];

            branches.innerHTML = branchData.slice(0, 3 + Math.floor(Math.random() * 2)).map(b => `
                <div class="branch">
                    <div class="branch-label">${b.label}</div>
                    <div class="branch-content">${b.content}</div>
                </div>
            `).join('');

            tree.style.display = 'block';
        }

        function newQuestion() {
            const questions = topics[currentTopic].questions;
            currentQuestion = random(questions);
            document.getElementById('current-question').textContent = `"${currentQuestion}"`;
            document.getElementById('question-meta').textContent =
                `Exploring: ${currentTopic.charAt(0).toUpperCase() + currentTopic.slice(1)} | Dialogue #${dialogueCount + 1}`;

            // Clear previous dialogue
            document.getElementById('dialogue-container').innerHTML = '';
            document.getElementById('wisdom-panel').style.display = 'none';
            document.getElementById('paradox-box').style.display = 'none';
            document.getElementById('thought-tree').style.display = 'none';
        }

        function deepDive() {
            // Generate a more extensive dialogue
            generateDialogue();

            // Add additional layer
            setTimeout(() => {
                const container = document.getElementById('dialogue-container');
                const metaReflection = document.createElement('div');
                metaReflection.className = 'dialogue-entry';
                metaReflection.style.background = 'rgba(255, 255, 255, 0.05)';
                metaReflection.innerHTML = `
                    <div class="philosopher-name" style="color: #888;">META-REFLECTION</div>
                    <div class="philosopher-text" style="font-style: italic; color: #aaa;">
                        This dialogue itself is an instance of what it examines—minds grappling with the nature of ${random(topics[currentTopic].concepts)},
                        using language to probe the limits of language. We are at once the observers and the observed,
                        the question and the questioner. Perhaps this recursion is not a problem to be solved,
                        but the very nature of conscious inquiry into consciousness.
                    </div>
                `;
                container.appendChild(metaReflection);
            }, 3000);
        }

        // ============================================
        // INITIALIZATION
        // ============================================

        function init() {
            // Topic buttons
            document.querySelectorAll('.topic-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.topic-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentTopic = btn.dataset.topic;
                    newQuestion();
                });
            });

            // Control buttons
            document.getElementById('generate-dialogue').addEventListener('click', generateDialogue);
            document.getElementById('new-question').addEventListener('click', newQuestion);
            document.getElementById('deep-dive').addEventListener('click', deepDive);

            // Initial display
            newQuestion();
        }

        init();
    </script>
</body>
</html>
